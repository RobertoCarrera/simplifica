<div class="h-full flex flex-col p-6 space-y-6">
    <div *ngIf="!isEmbedded" class="flex justify-between items-center">
        <div>
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Calendario</h1>
            <p class="text-gray-500 dark:text-gray-400">Gestiona tus citas y bloqueos</p>
        </div>
    </div>

    <div class="flex-1 min-h-0 relative">
        <app-calendar [events]="events()" [startHour]="config().calendar_start_hour ?? 8"
            [endHour]="config().calendar_end_hour ?? 22" [resources]="resources()" [showAddButton]="true"
            [showBlockButton]="true" (viewChange)="onViewChange($event)" (addEvent)="onAddEvent()"
            (blockTime)="onBlockTime()" (eventClick)="onEventClick($event)" (dateClick)="onDateClick($event)"
            (eventDrop)="onEventDrop($event)" (eventResize)="onEventResize($event)">
        </app-calendar>

        <app-calendar-action-modal [isOpen]="isModalOpen()" [initialStartDate]="selectedDate()"
            [services]="availableServices()" [clients]="availableClients()" (closeModal)="isModalOpen.set(false)"
            (saveAction)="handleModalSave($event)" (deleteAction)="handleModalDelete($event)">
        </app-calendar-action-modal>
    </div>
</div>