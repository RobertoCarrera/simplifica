<div class="container-fluid vh-100">
    <div class="row h-100 p-2">
        <div class="col-12 h-100 p-0 d-flex flex-column overflow-hidden">
            <div class="input-group mb-3" id="inputTicketsTable">
                <input [(ngModel)]="searchTicket" type="text" id="buscadorService" class="form-control w-75" placeholder="Realiza tus búsquedas aquí">
            </div>
            <table id="headersTable" class="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Estado</th>
                        <!-- <th>Vencimiento</th> -->
                        <th>Nombre</th>
                        <th>Apellidos</th>
                        <th>Teléfono</th>
                        <th>DNI</th>
                        <th>Servicio</th>
                        <th>Producto</th>
                        <!-- <th>Creación</th> -->
                    </tr>
                </thead>
            </table>
            <div class="table-responsive rounded" id="containerTicketsTable">
                <table id="tableTickets" class="table table-striped mb-1 rounded">
                    <tbody id="ticketsTableBody" class="h-100">
                        <tr *ngFor="let ticket of filterTickets()" class="ticket" (click)="openTicketModal(ticket)">
                            <td class="align-content-center" #contador>{{ticket.contador}}</td>
                            <td class="align-content-center" #estado_nombre>{{ticket.estado.nombre}}</td>
                            <!-- <td class="align-content-center" #fecha_vencimiento>{{ticket.fecha_vencimiento | date:'dd/MM/yyyy'}}</td> -->
                            <td class="align-content-center" #nombre>{{ticket.cliente.nombre}}</td>
                            <td class="align-content-center" #apellidos>{{ticket.cliente.apellidos}}</td>
                            <td class="align-content-center" #apellidos>
                                <a href="tel:{{ticket.cliente.telefono}}">{{ticket.cliente.telefono}}</a>
                            </td>
                            <td class="align-content-center" #dni>{{ticket.cliente.dni}}</td>
                            <td class="align-content-center" #trabajos>
                                <ul class="m-0 p-0">
                                    <li *ngFor="let servicio of ticket.servicios">{{servicio.trabajo.nombre}}</li>
                                </ul>
                            </td>
                            <td class="align-content-center" #productos>
                                <ul class="m-0 p-0">
                                    <li *ngFor="let servicio of ticket.servicios">{{servicio.producto?.nombre}}</li>
                                </ul>
                            </td>
                            <!-- <td class="align-content-center" #created_at>{{ticket.created_at | date:'dd/MM/yyyy'}}</td> -->
                        </tr>
                    </tbody>
                </table>
            </div>
            <app-btn-new 
                itemType="Nuevo ticket"
                [totalItems] = this.tickets.length
                [maxSteps] = 3>
            </app-btn-new>
            <app-modal-tickets
                *ngIf="selectedTicket"
                [ticket]="selectedTicket"
                [estados] = "estados"
                (close)="closeTicketModal()">
            </app-modal-tickets>
        </div>
    </div>
</div>