<div class="cointainer-fluid">
    <div class="row vh-100 p-2 m-0">
      <div class="col-2 h-100 p-0 m-0 d-flex flex-column align-items-start justify-content-between shadow-lg rounded" id="menu-principal" [class.shrink] = "isShrink">
        <ul class="list-unstyled w-100 p-2">
          <i class="bi toggle" 
            [ngClass]="{'bi-caret-left-fill': !isShrink, 'bi-caret-right-fill': isShrink}"
            (click) = "toggleMenu()">
          </i>
          
          <!-- ENLACES DE PRODUCCIÃ“N -->
          <li (click) = "activeElement(1)"
          [ngClass]="{'elemento-actual-menu': element === 1}">
            <a routerLink="inicio">
                <i class="bi bi-house menu-dashboard"
                data-bs-toggle="tooltip"
                data-bs-placement="right"
                data-bs-title="Inicio"
                data-bs-custom-class="bg-tooltip"></i>
                <span>Inicio</span>
            </a>
          </li>
          
          <li (click) = "activeElement(6)"
          [ngClass]="{'elemento-actual-menu': element === 6}">
            <a routerLink="clientes">
                <i class="bi bi-person-fill"
                data-bs-toggle="tooltip"
                data-bs-placement="right"
                data-bs-title="Clientes"
                data-bs-custom-class="bg-tooltip"></i>
                <span>Clientes</span>
            </a>
          </li>
          
          <li (click) = "activeElement(3)"
          [ngClass]="{'elemento-actual-menu': element === 3}">
            <a routerLink="taller">
                <i class="bi bi-person-raised-hand"
                data-bs-toggle="tooltip"
                data-bs-placement="right"
                data-bs-title="Tickets"
                data-bs-custom-class="bg-tooltip"></i>
                <span>Tickets</span>
            </a>
          </li>
          
          <!-- Servicios - Solo si estÃ¡ permitido -->
          <li *ngIf="isModuleAllowed('servicios')" 
              (click) = "activeElement(2)"
              [ngClass]="{'elemento-actual-menu': element === 2}">
            <a routerLink="sat">
                <i class="bi bi-ticket"
                data-bs-toggle="tooltip"
                data-bs-placement="right"
                data-bs-title="Servicios"
                data-bs-custom-class="bg-tooltip"></i>
                <span>Servicios</span>
            </a>
          </li>

          <!-- ENLACES DE DESARROLLO - Solo para usuarios dev -->
          <div *ngIf="devRoleService.canSeeDevTools()">
            <!-- Separador visual para desarrollo -->
            <hr class="text-muted my-2" style="opacity: 0.3;">
            <small class="text-muted px-2">ðŸ”§ Desarrollo</small>
            
            <!-- Test Sidebar -->
            <li (click) = "activeElement(51)"
                [ngClass]="{'elemento-actual-menu': element === 51}">
              <a routerLink="sidebar-test">
                  <i class="bi bi-layout-sidebar"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Test Sidebar"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>ðŸ§ª Sidebar Test</span>
              </a>
            </li>
            
            <!-- Demo Components - Premium UX -->
            <li (click) = "activeElement(8)"
            [ngClass]="{'elemento-actual-menu': element === 8}">
              <a routerLink="demo">
                  <i class="bi bi-magic"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Demo Premium UX"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Demo UX</span>
              </a>
            </li>
            
            <!-- FUNCIONALIDADES AVANZADAS - DASHBOARD PRINCIPAL -->
            <li (click) = "activeElement(13)"
            [ngClass]="{'elemento-actual-menu': element === 13}">
              <a routerLink="advanced-features">
                  <i class="bi bi-stars"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="âœ¨ Funcionalidades Avanzadas"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>âœ¨ Avanzadas</span>
              </a>
            </li>
            
            <!-- Workflow Builder - OPCIÃ“N 2 -->
            <li (click) = "activeElement(14)"
            [ngClass]="{'elemento-actual-menu': element === 14}">
              <a routerLink="workflows">
                  <i class="bi bi-diagram-3"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Constructor de Workflows"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Workflows</span>
              </a>
            </li>
            
            <!-- Export/Import - OPCIÃ“N 2 -->
            <li (click) = "activeElement(15)"
            [ngClass]="{'elemento-actual-menu': element === 15}">
              <a routerLink="export-import">
                  <i class="bi bi-arrow-down-up"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Export/Import & Drag Drop"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Export/Import</span>
              </a>
            </li>
            
            <!-- Notification Demo - OPCIÃ“N 2 -->
            <li (click) = "activeElement(12)"
            [ngClass]="{'elemento-actual-menu': element === 12}">
              <a routerLink="notification-demo">
                  <i class="bi bi-play-circle"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Demo Notificaciones"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Demo Notif</span>
              </a>
            </li>
            
            <!-- Analytics Dashboard - OPCIÃ“N 2 -->
            <li (click) = "activeElement(9)"
            [ngClass]="{'elemento-actual-menu': element === 9}">
              <a routerLink="analytics">
                  <i class="bi bi-graph-up-arrow"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Panel de AnÃ¡lisis"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Analytics</span>
              </a>
            </li>
            
            <!-- Advanced Search - OPCIÃ“N 2 -->
            <li (click) = "activeElement(10)"
            [ngClass]="{'elemento-actual-menu': element === 10}">
              <a routerLink="search">
                  <i class="bi bi-search"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="BÃºsqueda Avanzada"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>BÃºsqueda</span>
              </a>
            </li>
            
            <!-- Notifications - OPCIÃ“N 2 -->
            <li (click) = "activeElement(11)"
            [ngClass]="{'elemento-actual-menu': element === 11}">
              <a routerLink="notifications">
                  <i class="bi bi-bell-fill"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Centro de Notificaciones"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Notificaciones</span>
              </a>
            </li>
            
            <!-- Test DB - Solo para Super Admin -->
            <li *ngIf="isSuperAdmin" 
                (click) = "activeElement(7)"
                [ngClass]="{'elemento-actual-menu': element === 7}">
              <a routerLink="test-multitenant">
                  <i class="bi bi-database-gear"
                  data-bs-toggle="tooltip"
                  data-bs-placement="right"
                  data-bs-title="Test Multi-tenant"
                  data-bs-custom-class="bg-tooltip"></i>
                  <span>Test DB</span>
              </a>
            </li>
          </div>
        </ul>
        <ul class="list-unstyled w-100 p-2">
          <!-- ConfiguraciÃ³n -->
          <li (click) = "activeElement(100)">
            <a routerLink="configuracion">
              <i class="bi bi-gear"
              data-bs-toggle="tooltip"
              data-bs-placement="right"
              data-bs-title="ConfiguraciÃ³n"
              data-bs-custom-class="bg-tooltip"></i>
              <span>ConfiguraciÃ³n</span>
            </a>
          </li>
          
          <!-- Invitaciones eliminadas (auto-registro activo) -->
          
          <!-- InformaciÃ³n del usuario y logout -->
          <li class="user-info-section">
            <div class="user-info" *ngIf="!isShrink">
              <div class="user-details">
                <small class="text-muted d-block">{{ (authService.userProfile$ | async)?.full_name || 'Usuario' }}</small>
                <small class="text-muted">{{ (authService.userProfile$ | async)?.company?.name || 'Sin empresa' }}</small>
              </div>
            </div>
            <button 
              class="btn btn-outline-danger btn-sm logout-btn w-100 mt-2"
              (click)="logout()"
              data-bs-toggle="tooltip"
              data-bs-placement="right"
              data-bs-title="Cerrar SesiÃ³n"
              data-bs-custom-class="bg-tooltip">
              <i class="bi bi-door-open me-2" *ngIf="!isShrink"></i>
              <i class="bi bi-door-open" *ngIf="isShrink"></i>
              <span *ngIf="!isShrink">Cerrar SesiÃ³n</span>
            </button>
          </li>
        </ul>
      </div>
    </div>
  </div>