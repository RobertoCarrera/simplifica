/* ============================================
   QUOTE DETAIL - SISTEMA DE ESPACIADO UNIFICADO
   ============================================ */

/* CONSTANTES DE DISEÑO (equivalentes Tailwind)
   Desktop:
   - sectionGap: 1.5rem (24px) - gap-6
   - cardGap: 1rem (16px) - space-y-4
   - cardPadding: 1.25rem (20px) - p-5
   - cardRadius: 0.75rem (12px) - rounded-xl
   
   Móvil:
   - screenPadding: 1rem (16px) - mx-4
   - sectionGap: 1rem (16px) - space-y-4
   - cardPadding: 1rem (16px) - p-4
   - cardRadius: 0.75rem (12px) - rounded-xl para cards flotantes
   - cardRadius: 0 - para elementos full-width
*/

:host {
  display: block;
  /* NO usar height: 100% - causa scrollbar fantasma */
  /* El contenido fluye naturalmente sin forzar altura */
}

/* ============================================
   MÓVIL (< 768px)
   ============================================ */
@media (max-width: 767px) {
  
  /* Header azul compacto: ~120px, sin border-radius (full-width) */
  .bg-gradient-to-r.from-blue-600 {
    min-height: 120px;
    border-radius: 0;
    margin-bottom: 0; // Pegado al siguiente elemento
  }

  /* Resumen financiero sticky: card flotante con radius y borde destacado */
  .sticky.bottom-16 {
    bottom: 4rem; // Por encima de bottom nav
    border-radius: 0.75rem; // 12px
  }

  /* Historial colapsable: animación suave */
  .history-collapsed {
    max-height: 56px; // Solo header visible
    overflow: hidden;
    transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .history-expanded {
    max-height: 800px;
    transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Smooth scrolling táctil */
  .overflow-auto,
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Backdrop menú móvil */
  .mobile-menu-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.3);
    z-index: 40;
  }

  /* Touch feedback en cards */
  .item-card:active {
    transform: scale(0.99);
    transition: transform 0.1s ease;
  }
}

/* ============================================
   DESKTOP (≥ 768px)
   ============================================ */
@media (min-width: 768px) {
  
  /* Scrollbar horizontal en tablas */
  .overflow-x-auto {
    scrollbar-width: thin;
    scrollbar-color: rgb(156 163 175) transparent;

    &::-webkit-scrollbar {
      height: 8px;
    }

    &::-webkit-scrollbar-track {
      background: transparent;
    }

    &::-webkit-scrollbar-thumb {
      background-color: rgb(156 163 175);
      border-radius: 4px;

      &:hover {
        background-color: rgb(107 114 128);
      }
    }
  }

  :host-context(.dark) .overflow-x-auto {
    scrollbar-color: rgb(75 85 99) transparent;

    &::-webkit-scrollbar-thumb {
      background-color: rgb(75 85 99);

      &:hover {
        background-color: rgb(107 114 128);
      }
    }
  }
}

/* ============================================
   MODO OSCURO - AJUSTES GLOBALES
   ============================================ */
:host-context(.dark) {
  .collapsible-section-header {
    background-color: rgba(55, 65, 81, 0.5); // dark:bg-gray-700/50
  }
}
